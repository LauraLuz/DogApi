pipeline{
    agent any
        stages {
            stage('Hello'){
               steps {
                    echo 'Hello Wolrd'
                }
            } 
            stage('Opcao Ambiente'){
                steps {
                    script {
                    env.AMBIENTE_BUILD = input message: 'Escolha o ambiente de build:', ok: 'Release!',
                    parameters: [choice(name: 'AMBIENTE_BUILD', choices: 'Desenv\nHomolog\nProd', description: 'Qual é o ambiente a ser escolhido?')]
                }
                echo "${env.AMBIENTE_BUILD}"
            }
        }
        stage ('Deploy em Desenvolvimento'){
            when {
                expression { "${env.AMBIENTE_BUILD}" == 'Desenv' }
        }
            steps {
                echo 'O Deploy sera realizado em DESENV'
            }
        }
        stage ('Deploy em Homologacao'){
            when {
                expression { "${env.AMBIENTE_BUILD}" == 'Homolog' }
        }
            steps {
                echo 'O Deploy sera realizado em HOMOLOG'
            }
        }
        stage ('Deploy em Produção'){
            when {
                expression { "${env.AMBIENTE_BUILD}" == 'Prod' }
        }
            steps {
                echo 'O Deploy sera realizado em PROD'
            }
        }
    }
}